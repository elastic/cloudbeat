## Standalone Cloudbeat running Vulnerability Management

### What it does
This document explains how to locally run cloudbeat standalone with vulnerability management flow.
We will do that by running cloudbeat with a custom `cloudbeat.yml` file that triggers the vulnerability management flavor.

### How to run it
*Prerequisites:*
1. You have an elasticsearch deployed locally or in the cloud (check https://github.com/elastic/cloudbeat/blob/main/dev-docs/ELK-Deployment.md to run elastic stack locally)
2. You have AWS CLI installed on your laptop and configured to work with our dev account `elastic-security-cloud-security-dev`

*Steps:*
1. From your IDE add the following to your running options (on vscode `launch.json`)
```json
{
        "name": "Launch Vulnerability Management",
        "type": "go",
        "request": "launch",
        "mode": "auto",
        "program": "${workspaceFolder}/main.go",
        "args": ["-c", "deploy/vulnerability/cloudbeat-vuln-mgmt.yml", "-e", "-d", "'*'"],
        "env": {
                "ES_HOST": "https://localhost:9200",
                "ES_USERNAME": "elastic",
                "ES_PASSWORD": "changeme",
        }
}
```
2. Hit "Launch" to run cloudbeat standalone (no agent) and generate vulnerabilities to your elasticsearch.
3. Alternatively, you can run
```shell
go mod vendor && go build -v
ES_HOST="http://localhost:9200" ES_USERNAME="elastic" ES_PASSWORD="changeme" ./cloudbeat -c deploy/vulnerability/cloudbeat-vuln-mgmt.yml -e -d '*'
```